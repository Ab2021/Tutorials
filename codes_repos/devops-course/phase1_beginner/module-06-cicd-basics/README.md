# CI/CD Basics with GitHub Actions

## üéØ Learning Objectives

By the end of this module, you will have a comprehensive understanding of CI/CD, including:
- **Concepts**: The difference between Continuous Integration, Delivery, and Deployment.
- **Tooling**: Mastering GitHub Actions as a primary CI/CD tool.
- **Automation**: Writing workflows to build, test, and package applications.
- **Security**: Managing secrets and environment variables safely.
- **Optimization**: Using Caching and Artifacts to speed up pipelines.

---

## üìñ Theoretical Concepts

### 1. CI/CD Explained

- **Continuous Integration (CI)**: Developers merge code changes into a central repository frequently. Automated builds and tests run to verify the changes. *Goal: Find bugs early.*
- **Continuous Delivery (CD)**: Code changes are automatically built, tested, and prepared for a release to production. *Goal: Ensure software can be released at any time.*
- **Continuous Deployment (CD)**: Every change that passes all stages of your production pipeline is released to your customers automatically. *Goal: Rapid feedback loop.*

### 2. GitHub Actions Architecture

- **Workflow**: A configurable automated process made up of one or more jobs. Defined in `.github/workflows/`.
- **Event**: A specific activity that triggers a workflow (e.g., `push`, `pull_request`).
- **Job**: A set of steps that execute on the same runner.
- **Step**: An individual task (shell command or Action).
- **Runner**: A server that runs your workflow (Ubuntu, Windows, macOS).

### 3. Workflow Syntax

```yaml
name: CI Pipeline
on: [push]  # Trigger

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run a script
        run: echo "Hello, World!"
```

### 4. Key Features

#### Triggers
- `push`: Runs on every commit.
- `pull_request`: Runs when a PR is opened/updated.
- `schedule`: Runs on a CRON schedule.
- `workflow_dispatch`: Manual trigger button.

#### Secrets & Variables
- **Secrets**: Encrypted data (API Keys, Passwords). Accessed via `${{ secrets.MY_KEY }}`.
- **Variables**: Non-sensitive configuration. Accessed via `${{ vars.MY_VAR }}`.

#### Artifacts
Files generated by a job (binaries, test reports) that you want to keep.
- `actions/upload-artifact`: Save files.
- `actions/download-artifact`: Retrieve files in a later job.

---

## üîß Practical Examples

### Basic CI Pipeline (Node.js)

```yaml
name: Node.js CI

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [14.x, 16.x, 18.x]

    steps:
    - uses: actions/checkout@v3
    - name: Use Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v3
      with:
        node-version: ${{ matrix.node-version }}
        cache: 'npm'
    - run: npm ci
    - run: npm run build --if-present
    - run: npm test
```

### Deployment Job (Dependent)

```yaml
deploy:
  needs: build  # Only run if build passes
  runs-on: ubuntu-latest
  if: github.ref == 'refs/heads/main'
  steps:
    - name: Deploy to Production
      run: ./deploy.sh
```

---

## üéØ Hands-on Labs

- [Lab 6.1: Introduction to CI/CD Concepts](./labs/lab-06.1-intro-cicd.md)
- [Lab 6.2: GitHub Actions Basics](./labs/lab-06.2-github-actions-basics.md)
- [Lab 6.3: Automated Testing with CI](./labs/lab-06.3-automated-testing.md)
- [Lab 6.4: Docker Integration in CI](./labs/lab-06.4-docker-integration.md)
- [Lab 6.5: Continuous Deployment (CD)](./labs/lab-06.5-continuous-deployment.md)
- [Lab 6.6: CI/CD Capstone Project](./labs/lab-06.6-cicd-project.md)

---

## üìö Additional Resources

### Official Documentation
- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Workflow Syntax Reference](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions)

### Marketplace
- [GitHub Marketplace](https://github.com/marketplace?type=actions) - Find pre-built actions.

---

## üîë Key Takeaways

1.  **Fail Fast**: Run the fastest tests (Linting, Unit) first.
2.  **Idempotency**: Pipelines should produce the same result every time they run.
3.  **Infrastructure as Code**: Your pipeline is code. Version control it.
4.  **Security**: Never commit secrets to the repo. Use GitHub Secrets.

---

## ‚è≠Ô∏è Next Steps

1.  Complete the labs to build your first pipeline.
2.  Proceed to **[Module 7: Infrastructure as Code](../module-07-infrastructure-as-code-intro/README.md)** to automate infrastructure provisioning.
